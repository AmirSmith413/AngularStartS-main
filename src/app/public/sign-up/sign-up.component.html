<div class="container">
    <form [formGroup]="signupForm" (ngSubmit)="submitForm()">
        <fieldset>
            <legend> Sign Up Form</legend>
            <div class="form-group">
                <label for="fName">First Name</label>
                <input type="text"
                       class="form-control"
                       id="fName"
                       formControlName="fName">
                <span class="text-danger"
                      *ngIf="signupForm.get('fName')?.errors?.['forbiddenName']">The name is not allowed</span>
                <span class="text-danger"
                      *ngIf="signupForm.get('fName')?.touched && signupForm.get('fName')?.errors?.['required']">A first name is required</span>
            </div>
            <div class="form-group">
                <label for="lName">Last Name</label>
                <input type="text"
                       class="form-control"
                       id="lName"
                       formControlName="lName">
                       <span class="text-danger"
                      *ngIf="signupForm.get('lName')?.errors?.['forbiddenName'].touched">The name is not allowed</span>
                <span class="text-danger"
                      *ngIf="signupForm.get('lName')?.errors?.['required'].touched">A last name is required</span>
            </div>
            <div class="form-group">
                <label for="email">Email</label>
                <input type="text"
                       class="form-control"
                       id="email"
                       formControlName="email">
                       <span class="text-danger"
                      *ngIf="signupForm.get('email')?.errors?.['forbiddenName']">The name is not allowed</span>
                <span class="text-danger"
                      *ngIf="signupForm.get('email')?.errors?.['required']">An email is required</span>
            </div>
            <div class="form-group">
                <label for="mName">Middle Name</label>
                <input type="text"
                       class="form-control"
                       id="mName"
                       formControlName="mName">
                       <span class="text-danger"
                      *ngIf="signupForm.get('mName')?.errors?.['forbiddenName']">The name is not allowed</span>
                <span class="text-danger"
                      *ngIf="signupForm.get('mName')?.errors?.['required']">A middle name is required</span>
            </div>
            <div class="form-group form-check">
                <input type="checkbox"
                       class="form-check-input"
                       id="hasNoMiddleName"
                       formControlName="hasNoMiddleName">
                <label class="form-check-label"
                       for="hasNoMiddleName">I don't have a middle name</label>
            </div>

            <div formArrayName="favoriteProducts" class="mb-3">
                <h3>Favorite Products</h3> <button type="button" (click)="addProduct()" class="btn btn-secondary">Add Product</button>
                <div *ngFor="let product of favoriteProducts.controls; let i=index" class="mt-2">
                  <label>
                    Product:
                    <input type="text" [formControlName]="i">
                  </label>
                </div>
              </div>


            <div formGroupName="passwordGroup">
                <div class="form-group">
                    <label for="password">Password</label>
                    <input type="password"
                           class="form-control"
                           id="password"
                           formControlName="password">
                           
                <span class="text-danger"
                      *ngIf="signupForm.get('fName')?.errors?.['required']">A password is required</span>
                </div>
                <div class="form-group">
                    <label for="confirmPassword">Confirm Password</label>
                    <input type="password"
                           class="form-control"
                           id="confirmPassword"
                           formControlName="confirmPassword">
                </div>
            </div>
           
            <button type="button"
                    class="btn btn-secondary"
                    (click)="resetForm()">Reset</button>
                    <button type="submit" class="btn btn-primary" [disabled]="signupForm.invalid">Submit</button>
                    	
 <button type="button" class="btn btn-secondary" (click)="setValue()">Set Value</button>
 <button type="button" class="btn btn-secondary" (click)="patchValue()">Patch Value</button>


        </fieldset>
    </form>
</div>

<div>
    <div>{{signupForm.value | json}}</div>
    <div> Dirty: {{signupForm.dirty}}</div>
    <div> Touched: {{signupForm.touched}}</div>
    <div> Pristine: {{signupForm.pristine}}</div>
    <div> Valid: {{signupForm.valid}}</div>
    <div> Invalid: {{signupForm.invalid}}</div>
    <div> First Name Touched: {{signupForm.get('fName')?.touched}}</div>
    <div> First Name Dirty: {{signupForm.get('fName')?.dirty}}</div>
    <div> First Name Valid: {{signupForm.get('fName')?.valid}}</div>
</div>